\section{Probando, probando...}

%-----------------------    ---------------------------------

\begin{frame}
\frametitle{¿Qué son los tests unitarios?}

\begin{itemize}
  \item Manera para determinar si el código funciona correctamente de manera automática
  \item Se separa el código de su respectiva prueba unitaria
  \item No prueba la falta de errores, pero bien hechos los minimiza
  \item Ideal para mejorar código que ya funciona y para trabajar en equipo
\end{itemize}

\end{frame}


%-----------------------    ---------------------------------

\begin{frame}
\frametitle{Frameworks}

\begin{itemize}
\item Hay \emph{frameworks} que te ayudan a hacerlos...
\item y hay \emph{frameworks} para todos los lenguajes de programación
\item El tradicional en Python3 es \texttt{unit.test}, aunque existen muchos otros
\item También se pueden hacer tests unitarios en Django
\end{itemize}

\end{frame}


%-----------------------    ---------------------------------

\begin{frame}[fragile]
\frametitle{Un ejemplo sencillo}

\begin{verbatim}
def contar_letra(cadena: str, letra: str) -> int:
    return cadena.count(letra)
\end{verbatim}

Función que dado un string \texttt{cadena}, devuelve el número de veces que
parece la letra \texttt{letra} en la cadena.

\end{frame}


%-----------------------    ---------------------------------

\begin{frame}[fragile]
\frametitle{Su test unitario}

\begin{verbatim}
import unittest
from contar import contar_letra

class Pruebas(unittest.TestCase):
    def test_contar_letra(self):
        self.assertEqual(contar_letra("pepe", "e"), 2)
        self.assertEqual(contar_letra("Madrid", "d"), 2)
        self.assertEqual(contar_letra("Un, dos", "o"), 1)        

if __name__ == '__main__':
    unittest.main()
\end{verbatim}

\end{frame}

%-----------------------    ---------------------------------

\begin{frame}[fragile]
\frametitle{Ejecución}

\begin{verbatim}
$ python3 test.py 
.
----------------------------------------------------------------------
Ran 1 test in 0.000s

OK
\end{verbatim}

\end{frame}

%-----------------------    ---------------------------------

\begin{frame}[fragile]
\frametitle{Su test unitario}

\begin{verbatim}
import unittest
from contar import contar_letra

class Pruebas(unittest.TestCase):
    def test_contar_letra(self):
        self.assertEqual(contar_letra("pepe", "e"), 2)
        self.assertEqual(contar_letra("Madrid", "d"), 2)
        self.assertEqual(contar_letra("Un, dos", "o"), 2)        

if __name__ == '__main__':
    unittest.main()
\end{verbatim}

\end{frame}


%-----------------------    ---------------------------------

\begin{frame}[fragile]
\frametitle{Ejecución}

\begin{verbatim}
$ python3 test.py 
F
======================================================================
FAIL: test_contar_letra (__main__.Pruebas)
----------------------------------------------------------------------
Traceback (most recent call last):
  File "test.py", line 8, in test_contar_letra
    self.assertEqual(contar.contar_letra("Un, dos", "o"), 2)
AssertionError: 1 != 2

----------------------------------------------------------------------
Ran 1 test in 0.000s

FAILED (failures=1)
\end{verbatim}

\end{frame}



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "frikiminutos"
%%% End:
